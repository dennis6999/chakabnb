<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Luxury Cottage with Mountain View - ChakaBNB</title>
    <link rel="icon" type="image/x-icon" href="/static/favicon.ico">
    <link rel="manifest" href="/manifest.json">
    <meta name="theme-color" content="#003B95">
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://unpkg.com/aos@2.3.1/dist/aos.css" rel="stylesheet">
    <script src="https://unpkg.com/aos@2.3.1/dist/aos.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/feather-icons/dist/feather.min.js"></script>
    <script src="https://unpkg.com/feather-icons"></script>
    <script src="js/security.js"></script>
    <script src="js/error-handler.js"></script>
    <script src="js/accessibility.js"></script>
    <script src="js/seo-optimizer.js"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap');
        body {
            font-family: 'Poppins', sans-serif;
        }
        .amenity-icon {
            width: 24px;
            height: 24px;
            margin-right: 8px;
        }
        .gallery-image {
            transition: transform 0.3s ease;
        }
        .gallery-image:hover {
            transform: scale(1.03);
        }
        .booking-panel {
            box-shadow: 0 4px 20px rgba(0, 59, 149, 0.15);
        }
        .tab-active {
            border-bottom: 3px solid #003B95;
            color: #003B95;
        }
        
        /* Mobile Navigation */
        .mobile-menu {
            transform: translateX(-100%);
            transition: transform 0.3s ease-in-out;
        }
        .mobile-menu.open {
            transform: translateX(0);
        }
        .mobile-overlay {
            opacity: 0;
            visibility: hidden;
            transition: all 0.3s ease-in-out;
        }
        .mobile-overlay.open {
            opacity: 1;
            visibility: visible;
        }
        
        /* Touch-friendly interactions */
        .touch-target {
            min-height: 44px;
            min-width: 44px;
        }
        
        /* Mobile gallery */
        .mobile-gallery {
            display: grid;
            grid-template-columns: 1fr;
            gap: 8px;
        }
        
        .mobile-gallery-main {
            height: 300px;
            border-radius: 12px;
            overflow: hidden;
        }
        
        .mobile-gallery-thumbs {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 8px;
        }
        
        .mobile-gallery-thumb {
            height: 60px;
            border-radius: 8px;
            overflow: hidden;
        }
        
        /* Mobile booking panel */
        .mobile-booking-panel {
            position: fixed;
            bottom: 0;
            left: 0;
            right: 0;
            background: white;
            border-top: 1px solid #e5e7eb;
            padding: 1rem;
            z-index: 30;
            transform: translateY(100%);
            transition: transform 0.3s ease-in-out;
        }
        
        .mobile-booking-panel.open {
            transform: translateY(0);
        }
        
        /* Mobile sticky header */
        .mobile-sticky-header {
            position: sticky;
            top: 0;
            background: white;
            z-index: 20;
            padding: 1rem;
            border-bottom: 1px solid #e5e7eb;
        }
        
        /* Notification animations */
        #notification {
            transform: translateX(100%);
            transition: transform 0.3s ease-in-out;
        }
        #notification.show {
            transform: translateX(0);
        }
        
        /* Booking modal animations */
        #booking-modal {
            transition: opacity 0.3s ease-in-out;
        }
        #booking-modal .bg-white {
            transform: scale(0.9);
            transition: transform 0.3s ease-in-out;
        }
        #booking-modal:not(.hidden) .bg-white {
            transform: scale(1);
        }
        
        /* Advanced Responsive Design System for Property Detail */
        
        /* Fluid Typography Scale */
        .fluid-text-xs { font-size: clamp(0.75rem, 2vw, 0.875rem); }
        .fluid-text-sm { font-size: clamp(0.875rem, 2.5vw, 1rem); }
        .fluid-text-base { font-size: clamp(1rem, 3vw, 1.125rem); }
        .fluid-text-lg { font-size: clamp(1.125rem, 3.5vw, 1.25rem); }
        .fluid-text-xl { font-size: clamp(1.25rem, 4vw, 1.5rem); }
        .fluid-text-2xl { font-size: clamp(1.5rem, 5vw, 2rem); }
        .fluid-text-3xl { font-size: clamp(1.875rem, 6vw, 2.5rem); }
        .fluid-text-4xl { font-size: clamp(2.25rem, 7vw, 3rem); }
        
        /* Fluid Spacing Scale */
        .fluid-p-xs { padding: clamp(0.25rem, 1vw, 0.5rem); }
        .fluid-p-sm { padding: clamp(0.5rem, 2vw, 1rem); }
        .fluid-p-md { padding: clamp(1rem, 3vw, 1.5rem); }
        .fluid-p-lg { padding: clamp(1.5rem, 4vw, 2rem); }
        .fluid-p-xl { padding: clamp(2rem, 5vw, 3rem); }
        
        .fluid-m-xs { margin: clamp(0.25rem, 1vw, 0.5rem); }
        .fluid-m-sm { margin: clamp(0.5rem, 2vw, 1rem); }
        .fluid-m-md { margin: clamp(1rem, 3vw, 1.5rem); }
        .fluid-m-lg { margin: clamp(1.5rem, 4vw, 2rem); }
        .fluid-m-xl { margin: clamp(2rem, 5vw, 3rem); }
        
        /* Responsive Container */
        .responsive-container {
            width: 100%;
            max-width: 100%;
            margin: 0 auto;
            padding: 0 clamp(1rem, 4vw, 2rem);
        }
        
        /* Responsive Property Gallery */
        .responsive-gallery {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: clamp(0.5rem, 2vw, 1rem);
            border-radius: clamp(0.5rem, 2vw, 1rem);
            overflow: hidden;
        }
        
        .responsive-gallery-image {
            width: 100%;
            height: clamp(200px, 25vw, 300px);
            object-fit: cover;
            aspect-ratio: 16/9;
        }
        
        /* Responsive Property Content */
        .responsive-property-content {
            padding: clamp(1rem, 3vw, 2rem);
        }
        
        .responsive-property-title {
            font-size: clamp(1.5rem, 5vw, 2.5rem);
            line-height: 1.2;
            margin-bottom: clamp(0.5rem, 2vw, 1rem);
        }
        
        .responsive-property-description {
            font-size: clamp(1rem, 3vw, 1.125rem);
            line-height: 1.6;
            color: #6b7280;
        }
        
        /* Responsive Booking Panel */
        .responsive-booking-panel {
            border-radius: clamp(0.5rem, 2vw, 1rem);
            box-shadow: 0 clamp(2px, 0.5vw, 4px) clamp(4px, 1vw, 8px) rgba(0, 0, 0, 0.1);
            padding: clamp(1rem, 3vw, 1.5rem);
        }
        
        .responsive-booking-input {
            min-height: clamp(44px, 6vw, 48px);
            padding: clamp(0.75rem, 2vw, 1rem);
            font-size: clamp(0.875rem, 2.5vw, 1rem);
            border-radius: clamp(0.25rem, 1vw, 0.5rem);
        }
        
        .responsive-booking-button {
            min-height: clamp(48px, 6vw, 56px);
            padding: clamp(0.75rem, 2vw, 1rem);
            font-size: clamp(0.875rem, 2.5vw, 1rem);
            border-radius: clamp(0.25rem, 1vw, 0.5rem);
        }
        
        /* Responsive Modal */
        .responsive-modal {
            width: 95%;
            max-width: clamp(300px, 90vw, 600px);
            margin: clamp(1rem, 5vw, 2rem) auto;
        }
        
        /* Responsive Navigation */
        .responsive-nav {
            height: clamp(60px, 8vw, 80px);
            padding: 0 clamp(1rem, 4vw, 2rem);
        }
        
        .responsive-logo {
            height: clamp(2rem, 6vw, 3rem);
        }
        
        /* Responsive Touch Targets */
        .responsive-touch {
            min-height: clamp(44px, 6vw, 48px);
            min-width: clamp(44px, 6vw, 48px);
        }
        
        /* Responsive Focus States */
        .responsive-focus {
            outline: none;
            box-shadow: 0 0 0 clamp(2px, 0.5vw, 3px) #003B95;
        }
        
        /* Responsive Animation */
        .responsive-animate {
            animation: fadeInUp 0.6s ease-out;
        }
        
        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }
        
        /* Mobile-specific optimizations */
        @media (max-width: 768px) {
            .desktop-gallery {
                display: none;
            }
            .mobile-gallery {
                display: grid;
            }
            .desktop-booking-panel {
                display: none;
            }
            .mobile-booking-trigger {
                display: block;
            }
            
            /* Mobile notification positioning */
            #notification {
                top: 1rem;
                right: 1rem;
                left: 1rem;
                max-width: none;
            }
            
            /* Mobile booking modal enhancements */
            #booking-modal .bg-white {
                margin: 1rem;
                max-height: calc(100vh - 2rem);
            }
        }
        
        @media (min-width: 769px) {
            .desktop-gallery {
                display: grid;
            }
            .mobile-gallery {
                display: none;
            }
            .desktop-booking-panel {
                display: block;
            }
            .mobile-booking-trigger {
                display: none;
            }
        }
    </style>
</head>
<body class="bg-gray-50">
    <!-- Navigation -->
    <nav class="bg-white shadow-sm sticky top-0 z-50">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex justify-between h-16">
                <div class="flex items-center">
                    <div class="flex-shrink-0 flex items-center">
                        <a href="index.html">
                            <img src="logo.png" alt="ChakaBNB Logo" class="h-36 w-auto -ml-4 sm:-ml-6 lg:-ml-8">
                        </a>
                    </div>
                </div>
                <div class="hidden md:ml-6 md:flex md:items-center md:space-x-8">
                    <a href="list-property.html" id="list-property-link" class="text-gray-900 hover:text-[#003B95] px-3 py-2 text-sm font-medium">List your property</a>
                    
                    <!-- Currency Selector -->
                    <div class="relative">
                        <select id="currency-selector" class="appearance-none bg-transparent border border-gray-300 rounded-md px-3 py-2 text-sm text-gray-700 hover:border-[#003B95] focus:outline-none focus:ring-2 focus:ring-[#003B95] focus:border-[#003B95] cursor-pointer">
                            <option value="USD">$ USD</option>
                            <option value="KES">KES</option>
                            <option value="EUR">€ EUR</option>
                            <option value="GBP">£ GBP</option>
                        </select>
                        <div class="absolute inset-y-0 right-0 flex items-center pr-2 pointer-events-none">
                            <i data-feather="chevron-down" class="h-4 w-4 text-gray-400"></i>
                        </div>
                    </div>
                    
                    <!-- User status indicator -->
                    <div id="user-status" class="hidden">
                        <span id="user-name-display" class="text-sm text-gray-600"></span>
                    </div>
                    
                    <a href="login.html" id="login-link" class="bg-[#003B95] text-white px-4 py-2 rounded-md text-sm font-medium hover:bg-[#002b70]">Sign in</a>
                    <button id="book-now-nav" class="bg-[#4CAF50] text-white px-4 py-2 rounded-md text-sm font-medium hover:bg-[#45a049]">Book now</button>
                </div>
                <div class="-mr-2 flex items-center md:hidden">
                    <button type="button" class="inline-flex items-center justify-center p-2 rounded-md text-gray-400 hover:text-gray-500 hover:bg-gray-100 focus:outline-none">
                        <i data-feather="menu"></i>
                    </button>
                </div>
            </div>
        </div>
    </nav>

    <!-- Notification Container -->
    <div id="notification" class="fixed top-4 right-4 z-50 hidden">
        <div id="notification-content" class="px-6 py-4 rounded-lg shadow-lg max-w-sm">
            <div class="flex items-start space-x-3">
                <i id="notification-icon" data-feather="alert-circle" class="h-5 w-5 mt-0.5"></i>
                <div class="flex-1">
                    <p id="notification-message" class="text-sm font-medium">Please log in to list your property.</p>
                    <div id="notification-actions" class="mt-3 flex space-x-2">
                        <a href="login.html" class="bg-white text-red-500 px-3 py-1 rounded text-xs font-medium hover:bg-gray-100 transition-colors">
                            Login Now
                        </a>
                        <button onclick="closeNotification()" class="text-white hover:text-gray-200 text-xs">
                            Dismiss
                        </button>
                    </div>
                </div>
                <button onclick="closeNotification()" class="text-white hover:text-gray-200 ml-2">
                    <i data-feather="x" class="h-4 w-4"></i>
                </button>
            </div>
        </div>
    </div>

    <!-- Booking Modal -->
    <div id="booking-modal" class="fixed inset-0 bg-black bg-opacity-50 z-50 hidden">
        <div class="flex items-center justify-center min-h-screen p-4">
            <div class="bg-white rounded-xl shadow-2xl max-w-2xl w-full max-h-[90vh] overflow-y-auto">
                <!-- Modal Header -->
                <div class="flex items-center justify-between p-6 border-b border-gray-200">
                    <h2 class="text-2xl font-bold text-gray-900">Complete Your Booking</h2>
                    <button onclick="closeBookingModal()" class="text-gray-400 hover:text-gray-600 transition-colors">
                        <i data-feather="x" class="h-6 w-6"></i>
                    </button>
                </div>

                <!-- Modal Content -->
                <div class="p-6">
                    <!-- Booking Summary -->
                    <div class="bg-gray-50 rounded-lg p-4 mb-6">
                        <h3 class="text-lg font-semibold text-gray-900 mb-3">Booking Summary</h3>
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-4 text-sm">
                            <div>
                                <span class="text-gray-600">Property:</span>
                                <span class="font-medium text-gray-900 ml-2">Luxury Cottage with Mountain View</span>
                            </div>
                            <div>
                                <span class="text-gray-600">Check-in:</span>
                                <span class="font-medium text-gray-900 ml-2" id="modal-checkin">-</span>
                            </div>
                            <div>
                                <span class="text-gray-600">Check-out:</span>
                                <span class="font-medium text-gray-900 ml-2" id="modal-checkout">-</span>
                            </div>
                            <div>
                                <span class="text-gray-600">Guests:</span>
                                <span class="font-medium text-gray-900 ml-2" id="modal-guests">-</span>
                            </div>
                            <div>
                                <span class="text-gray-600">Nights:</span>
                                <span class="font-medium text-gray-900 ml-2" id="modal-nights">-</span>
                            </div>
                            <div>
                                <span class="text-gray-600">Total:</span>
                                <span class="font-bold text-[#003B95] text-lg ml-2" id="modal-total">-</span>
                            </div>
                        </div>
                    </div>

                    <!-- Guest Information Form -->
                    <form id="booking-form" class="space-y-6">
                        <div>
                            <h3 class="text-lg font-semibold text-gray-900 mb-4">Guest Information</h3>
                            <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                                <div>
                                    <label for="guest-first-name" class="block text-sm font-medium text-gray-700 mb-1">First Name *</label>
                                    <input type="text" id="guest-first-name" name="firstName" required
                                           class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-[#003B95] focus:border-[#003B95]">
                                    <p id="first-name-error" class="text-red-600 text-xs mt-1 hidden"></p>
                                </div>
                                <div>
                                    <label for="guest-last-name" class="block text-sm font-medium text-gray-700 mb-1">Last Name *</label>
                                    <input type="text" id="guest-last-name" name="lastName" required
                                           class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-[#003B95] focus:border-[#003B95]">
                                    <p id="last-name-error" class="text-red-600 text-xs mt-1 hidden"></p>
                                </div>
                            </div>
                            <div class="mt-4">
                                <label for="guest-email" class="block text-sm font-medium text-gray-700 mb-1">Email Address *</label>
                                <input type="email" id="guest-email" name="email" required
                                       class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-[#003B95] focus:border-[#003B95]">
                                <p id="email-error" class="text-red-600 text-xs mt-1 hidden"></p>
                            </div>
                            <div class="mt-4">
                                <label for="guest-phone" class="block text-sm font-medium text-gray-700 mb-1">Phone Number *</label>
                                <input type="tel" id="guest-phone" name="phone" required
                                       class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-[#003B95] focus:border-[#003B95]"
                                       placeholder="+254 700 000 000">
                                <p id="phone-error" class="text-red-600 text-xs mt-1 hidden"></p>
                            </div>
                        </div>

                        <!-- Special Requests -->
                        <div>
                            <label for="special-requests" class="block text-sm font-medium text-gray-700 mb-1">Special Requests (Optional)</label>
                            <textarea id="special-requests" name="specialRequests" rows="3"
                                      class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-[#003B95] focus:border-[#003B95]"
                                      placeholder="Any special requests or notes for your stay..."></textarea>
                        </div>

                        <!-- Payment Method -->
                        <div>
                            <h3 class="text-lg font-semibold text-gray-900 mb-4">Payment Method</h3>
                            <div class="space-y-3">
                                <label class="flex items-center p-3 border border-gray-300 rounded-md cursor-pointer hover:bg-gray-50">
                                    <input type="radio" name="paymentMethod" value="mpesa" class="mr-3 text-[#003B95] focus:ring-[#003B95]">
                                    <div class="flex items-center">
                                        <div class="w-8 h-8 bg-green-500 rounded flex items-center justify-center mr-3">
                                            <span class="text-white font-bold text-sm">M</span>
                                        </div>
                                        <div>
                                            <div class="font-medium text-gray-900">M-Pesa</div>
                                            <div class="text-sm text-gray-500">Pay via M-Pesa mobile money</div>
                                        </div>
                                    </div>
                                </label>
                                <label class="flex items-center p-3 border border-gray-300 rounded-md cursor-pointer hover:bg-gray-50">
                                    <input type="radio" name="paymentMethod" value="card" class="mr-3 text-[#003B95] focus:ring-[#003B95]">
                                    <div class="flex items-center">
                                        <div class="w-8 h-8 bg-blue-500 rounded flex items-center justify-center mr-3">
                                            <i data-feather="credit-card" class="h-4 w-4 text-white"></i>
                                        </div>
                                        <div>
                                            <div class="font-medium text-gray-900">Credit/Debit Card</div>
                                            <div class="text-sm text-gray-500">Visa, Mastercard, American Express</div>
                                        </div>
                                    </div>
                                </label>
                                <label class="flex items-center p-3 border border-gray-300 rounded-md cursor-pointer hover:bg-gray-50">
                                    <input type="radio" name="paymentMethod" value="bank" class="mr-3 text-[#003B95] focus:ring-[#003B95]">
                                    <div class="flex items-center">
                                        <div class="w-8 h-8 bg-gray-600 rounded flex items-center justify-center mr-3">
                                            <i data-feather="building" class="h-4 w-4 text-white"></i>
                                        </div>
                                        <div>
                                            <div class="font-medium text-gray-900">Bank Transfer</div>
                                            <div class="text-sm text-gray-500">Direct bank transfer</div>
                                        </div>
                                    </div>
                                </label>
                            </div>
                            <p id="payment-error" class="text-red-600 text-xs mt-2 hidden">Please select a payment method</p>
                        </div>

                        <!-- Terms and Conditions -->
                        <div>
                            <label class="flex items-start">
                                <input type="checkbox" id="terms-agreement" name="termsAgreement" required
                                       class="mt-1 mr-3 text-[#003B95] focus:ring-[#003B95]">
                                <span class="text-sm text-gray-700">
                                    I agree to the <a href="#" class="text-[#003B95] hover:underline">Terms and Conditions</a> 
                                    and <a href="#" class="text-[#003B95] hover:underline">Cancellation Policy</a>
                                </span>
                            </label>
                            <p id="terms-error" class="text-red-600 text-xs mt-1 hidden">Please accept the terms and conditions</p>
                        </div>
                    </form>
                </div>

                <!-- Modal Footer -->
                <div class="flex items-center justify-between p-6 border-t border-gray-200 bg-gray-50">
                    <button onclick="closeBookingModal()" class="px-4 py-2 text-gray-600 hover:text-gray-800 transition-colors">
                        Cancel
                    </button>
                    <button onclick="submitBooking()" class="bg-[#003B95] hover:bg-[#002b70] text-white font-medium py-2 px-6 rounded-md transition-colors">
                        Complete Booking
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- Property Header -->
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 pt-6">
        <div class="mb-4">
            <a href="index.html" class="text-sm font-medium text-[#003B95] hover:text-[#002b70] flex items-center">
                <i data-feather="arrow-left" class="mr-1"></i>
                Back to Search
            </a>
        </div>
        <div>
            <h1 class="text-3xl font-bold text-gray-900">Luxury Cottage with Mountain View</h1>
            <div class="mt-2 flex items-center">
                <div class="flex items-center">
                    <i data-feather="star" class="text-yellow-400 fill-current"></i>
                    <span class="ml-1 text-gray-900 font-medium">4.9</span>
                    <span class="mx-1 text-gray-500">·</span>
                    <a href="#reviews" class="text-gray-600 hover:underline">24 reviews</a>
                    <span class="mx-1 text-gray-500">·</span>
                    <div class="flex items-center">
                        <i data-feather="map-pin" class="text-gray-400"></i>
                        <span class="ml-1 text-gray-600">Chaka Town, Nyeri</span>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Mobile Image Gallery -->
    <div class="md:hidden px-4 mt-4">
        <div class="mobile-gallery">
            <div class="mobile-gallery-main">
                <img src="http://static.photos/indoor/1200x630/5" alt="Cottage exterior" class="w-full h-full object-cover" id="mobile-main-image">
            </div>
            <div class="mobile-gallery-thumbs">
                <img src="http://static.photos/indoor/1200x630/5" alt="Cottage exterior" class="w-full h-full object-cover cursor-pointer border-2 border-[#003B95]" onclick="changeMobileImage(this.src)">
                <img src="http://static.photos/indoor/640x360/8" alt="Living room" class="w-full h-full object-cover cursor-pointer border-2 border-transparent hover:border-gray-300" onclick="changeMobileImage(this.src)">
                <img src="http://static.photos/indoor/640x360/9" alt="Bedroom" class="w-full h-full object-cover cursor-pointer border-2 border-transparent hover:border-gray-300" onclick="changeMobileImage(this.src)">
                <img src="http://static.photos/outdoor/640x360/10" alt="Mountain view" class="w-full h-full object-cover cursor-pointer border-2 border-transparent hover:border-gray-300" onclick="changeMobileImage(this.src)">
            </div>
        </div>
        <div class="mt-3 text-center">
            <button id="open-gallery-mobile" class="text-sm font-medium text-gray-700 hover:text-[#003B95] flex items-center mx-auto">
                <i data-feather="image" class="mr-1"></i> Show all photos
            </button>
        </div>
    </div>

    <!-- Desktop Image Gallery -->
    <div class="hidden md:block max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 mt-6">
        <div class="desktop-gallery grid grid-cols-1 md:grid-cols-4 gap-3">
            <div class="md:col-span-2 row-span-2 rounded-xl overflow-hidden">
                <img src="http://static.photos/indoor/1200x630/5" alt="Cottage exterior" class="w-full h-full object-cover gallery-image">
            </div>
            <div class="rounded-xl overflow-hidden">
                <img src="http://static.photos/indoor/640x360/8" alt="Living room" class="w-full h-full object-cover gallery-image">
            </div>
            <div class="rounded-xl overflow-hidden">
                <img src="http://static.photos/indoor/640x360/9" alt="Bedroom" class="w-full h-full object-cover gallery-image">
            </div>
            <div class="rounded-xl overflow-hidden">
                <img src="http://static.photos/outdoor/640x360/10" alt="Mountain view" class="w-full h-full object-cover gallery-image">
            </div>
            <div class="rounded-xl overflow-hidden">
                <img src="http://static.photos/indoor/640x360/11" alt="Kitchen" class="w-full h-full object-cover gallery-image">
            </div>
        </div>
        <div class="mt-3 text-right">
            <button id="open-gallery-desktop" class="text-sm font-medium text-gray-700 hover:text-[#003B95] flex items-center">
                <i data-feather="image" class="mr-1"></i> Show all photos
            </button>
        </div>
    </div>

    <!-- Main Content -->
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 mt-8">
        <div class="lg:grid lg:grid-cols-3 lg:gap-8">
            <!-- Left Column -->
            <div class="lg:col-span-2">
                <!-- Property Details -->
                <div class="border-b border-gray-200 pb-8">
                    <div class="flex justify-between items-start">
                        <div>
                            <h2 class="text-2xl font-bold text-gray-900">Entire cottage hosted by James</h2>
                            <p class="mt-1 text-gray-600">4 guests · 2 bedrooms · 2 beds · 1 bath</p>
                        </div>
                        <img src="http://static.photos/people/200x200/1" alt="Host" class="w-12 h-12 rounded-full">
                    </div>
                    
                    <div class="mt-6 grid grid-cols-2 gap-4">
                        <div class="flex items-center">
                            <i data-feather="home" class="text-[#4CAF50]"></i>
                            <span class="ml-2 text-gray-700">Entire home</span>
                        </div>
                        <div class="flex items-center">
                            <i data-feather="star" class="text-[#4CAF50]"></i>
                            <span class="ml-2 text-gray-700">Enhanced clean</span>
                        </div>
                        <div class="flex items-center">
                            <i data-feather="map-pin" class="text-[#4CAF50]"></i>
                            <span class="ml-2 text-gray-700">Great location</span>
                        </div>
                        <div class="flex items-center">
                            <i data-feather="clock" class="text-[#4CAF50]"></i>
                            <span class="ml-2 text-gray-700">Self check-in</span>
                        </div>
                    </div>
                </div>
                
                <!-- Property Description -->
                <div class="border-b border-gray-200 py-8">
                    <h3 class="text-xl font-bold text-gray-900">About this place</h3>
                    <p class="mt-4 text-gray-700">
                        Nestled in the scenic hills of Chaka Town, this luxury cottage offers breathtaking views of Mount Kenya. 
                        The space features a fully equipped kitchen, cozy living area with fireplace, and two comfortable bedrooms. 
                        Enjoy your morning coffee on the private terrace while taking in the fresh mountain air.
                    </p>
                    <p class="mt-4 text-gray-700">
                        Located just 15 minutes from Solio Game Reserve, this is the perfect base for wildlife enthusiasts 
                        and those looking to explore the natural beauty of Nyeri County.
                    </p>
                    
                    <div class="mt-6">
                        <button class="flex items-center text-sm font-medium text-[#003B95] hover:text-[#002b70]">
                            <span>Show more</span>
                            <i data-feather="chevron-down" class="ml-1"></i>
                        </button>
                    </div>
                </div>
                
                <!-- Amenities -->
                <div class="border-b border-gray-200 py-8">
                    <h3 class="text-xl font-bold text-gray-900">What this place offers</h3>
                    
                    <div class="mt-6 grid grid-cols-1 sm:grid-cols-2 gap-4">
                        <div class="flex items-center">
                            <i data-feather="wifi" class="text-[#003B95] amenity-icon"></i>
                            <span class="text-gray-700">Free WiFi</span>
                        </div>
                        <div class="flex items-center">
                            <i data-feather="tv" class="text-[#003B95] amenity-icon"></i>
                            <span class="text-gray-700">Smart TV</span>
                        </div>
                        <div class="flex items-center">
                            <i data-feather="coffee" class="text-[#003B95] amenity-icon"></i>
                            <span class="text-gray-700">Coffee maker</span>
                        </div>
                        <div class="flex items-center">
                            <i data-feather="wind" class="text-[#003B95] amenity-icon"></i>
                            <span class="text-gray-700">Air conditioning</span>
                        </div>
                        <div class="flex items-center">
                            <i data-feather="home" class="text-[#003B95] amenity-icon"></i>
                            <span class="text-gray-700">Private terrace</span>
                        </div>
                        <div class="flex items-center">
                            <i data-feather="umbrella" class="text-[#003B95] amenity-icon"></i>
                            <span class="text-gray-700">Outdoor furniture</span>
                        </div>
                        <div class="flex items-center">
                            <i data-feather="lock" class="text-[#003B95] amenity-icon"></i>
                            <span class="text-gray-700">Safe</span>
                        </div>
                        <div class="flex items-center">
                            <i data-feather="parking" class="text-[#003B95] amenity-icon"></i>
                            <span class="text-gray-700">Free parking</span>
                        </div>
                    </div>
                    
                    <div class="mt-6">
                        <button class="flex items-center text-sm font-medium text-[#003B95] hover:text-[#002b70]">
                            <span>Show all amenities</span>
                            <i data-feather="chevron-down" class="ml-1"></i>
                        </button>
                    </div>
                </div>
                
                <!-- Sleeping Arrangements -->
                <div class="border-b border-gray-200 py-8">
                    <h3 class="text-xl font-bold text-gray-900">Sleeping arrangements</h3>
                    
                    <div class="mt-6 grid grid-cols-1 sm:grid-cols-2 gap-6">
                        <div>
                            <i data-feather="home" class="text-[#8B4513] w-8 h-8"></i>
                            <h4 class="mt-2 font-medium text-gray-900">Bedroom 1</h4>
                            <p class="mt-1 text-gray-600">1 queen bed</p>
                        </div>
                        <div>
                            <i data-feather="home" class="text-[#8B4513] w-8 h-8"></i>
                            <h4 class="mt-2 font-medium text-gray-900">Bedroom 2</h4>
                            <p class="mt-1 text-gray-600">2 single beds</p>
                        </div>
                    </div>
                </div>
                
                <!-- Location -->
                <div class="border-b border-gray-200 py-8" id="location">
                    <h3 class="text-xl font-bold text-gray-900">Location</h3>
                    <p class="mt-2 text-gray-700">Chaka Town, Nyeri County, Kenya</p>
                    
                    <div class="mt-6 rounded-xl overflow-hidden h-96 bg-gray-200">
                        <!-- Map placeholder -->
                        <div class="w-full h-full flex items-center justify-center bg-gray-300">
                            <i data-feather="map" class="w-16 h-16 text-gray-500"></i>
                        </div>
                    </div>
                    
                    <div class="mt-4">
                        <h4 class="font-medium text-gray-900">Getting around</h4>
                        <p class="mt-1 text-gray-600">
                            The cottage is located 5km from Chaka Town center. We recommend having a car for easy access 
                            to local attractions. Taxis and boda-bodas (motorcycle taxis) are also available.
                        </p>
                    </div>
                    
                    <div class="mt-6">
                        <h4 class="font-medium text-gray-900">Nearby attractions</h4>
                        <div class="mt-2 space-y-2">
                            <div class="flex items-center">
                                <i data-feather="map-pin" class="text-[#4CAF50] w-4 h-4"></i>
                                <span class="ml-2 text-gray-700">Solio Game Reserve - 15km</span>
                            </div>
                            <div class="flex items-center">
                                <i data-feather="map-pin" class="text-[#4CAF50] w-4 h-4"></i>
                                <span class="ml-2 text-gray-700">Baden-Powell Museum - 8km</span>
                            </div>
                            <div class="flex items-center">
                                <i data-feather="map-pin" class="text-[#4CAF50] w-4 h-4"></i>
                                <span class="ml-2 text-gray-700">Nyeri Town - 25km</span>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- Host -->
                <div class="border-b border-gray-200 py-8">
                    <div class="flex items-start">
                        <img src="http://static.photos/people/200x200/1" alt="Host" class="w-16 h-16 rounded-full">
                        <div class="ml-4">
                            <h3 class="text-xl font-bold text-gray-900">Hosted by James</h3>
                            <p class="mt-1 text-gray-600">Joined in 2018</p>
                            
                            <div class="mt-4 flex items-center">
                                <i data-feather="star" class="text-yellow-400 fill-current"></i>
                                <span class="ml-1 text-gray-900">24 reviews</span>
                                <span class="mx-2 text-gray-400">·</span>
                                <i data-feather="check-circle" class="text-[#4CAF50]"></i>
                                <span class="ml-1 text-gray-900">Identity verified</span>
                            </div>
                            
                            <p class="mt-4 text-gray-700">
                                Hi, I'm James! I've lived in Chaka Town for over 10 years and love sharing the beauty of this area with visitors. 
                                I'm happy to provide recommendations for local restaurants, activities, and hidden gems.
                            </p>
                            
                            <div class="mt-4">
                                <span class="text-sm text-gray-500">Response rate: 100%</span>
                                <span class="mx-2 text-gray-400">·</span>
                                <span class="text-sm text-gray-500">Response time: within an hour</span>
                            </div>
                            
                            <button class="mt-6 bg-white border border-gray-300 text-gray-700 hover:bg-gray-50 font-medium py-2 px-4 rounded-md shadow-sm">
                                Contact host
                            </button>
                        </div>
                    </div>
                </div>
                
                <!-- Reviews -->
                <div class="py-8" id="reviews">
                    <div class="flex items-center justify-between">
                        <h3 class="text-xl font-bold text-gray-900">
                            <i data-feather="star" class="text-yellow-400 fill-current inline"></i>
                            <span class="ml-1">4.9 · 24 reviews</span>
                        </h3>
                        <button class="text-sm font-medium text-[#003B95] hover:text-[#002b70]">
                            See all reviews
                        </button>
                    </div>
                    
                    <div class="mt-6 grid grid-cols-1 md:grid-cols-2 gap-8">
                        <!-- Review 1 -->
                        <div>
                            <div class="flex items-center">
                                <img src="http://static.photos/people/200x200/2" alt="Reviewer" class="w-12 h-12 rounded-full">
                                <div class="ml-4">
                                    <h4 class="font-medium text-gray-900">Sarah</h4>
                                    <p class="text-sm text-gray-500">March 2023</p>
                                </div>
                            </div>
                            <p class="mt-4 text-gray-700">
                                The cottage was even more beautiful than the photos! Waking up to the mountain views was incredible. 
                                James was a wonderful host who gave us great tips for exploring the area.
                            </p>
                        </div>
                        
                        <!-- Review 2 -->
                        <div>
                            <div class="flex items-center">
                                <img src="http://static.photos/people/200x200/3" alt="Reviewer" class="w-12 h-12 rounded-full">
                                <div class="ml-4">
                                    <h4 class="font-medium text-gray-900">Michael</h4>
                                    <p class="text-sm text-gray-500">January 2023</p>
                                </div>
                            </div>
                            <p class="mt-4 text-gray-700">
                                Perfect location for visiting Solio Reserve. The cottage had everything we needed and was spotlessly clean. 
                                The terrace was our favorite spot for evening drinks.
                            </p>
                        </div>
                    </div>
                </div>
                
                <!-- Things to Know -->
                <div class="border-t border-gray-200 py-8">
                    <h3 class="text-xl font-bold text-gray-900">Things to know</h3>
                    
                    <div class="mt-6">
                        <div class="border-b border-gray-200">
                            <div class="flex justify-between items-center py-4 cursor-pointer">
                                <h4 class="font-medium text-gray-900">House rules</h4>
                                <i data-feather="chevron-down" class="text-gray-500"></i>
                            </div>
                            <div class="pb-4 hidden">
                                <p class="text-gray-700">Check-in: After 2:00 PM</p>
                                <p class="mt-2 text-gray-700">Checkout: 11:00 AM</p>
                                <p class="mt-2 text-gray-700">No smoking</p>
                                <p class="mt-2 text-gray-700">No pets</p>
                                <p class="mt-2 text-gray-700">No parties or events</p>
                            </div>
                        </div>
                        
                        <div class="border-b border-gray-200">
                            <div class="flex justify-between items-center py-4 cursor-pointer">
                                <h4 class="font-medium text-gray-900">Safety & property</h4>
                                <i data-feather="chevron-down" class="text-gray-500"></i>
                            </div>
                            <div class="pb-4 hidden">
                                <p class="text-gray-700">Security camera/recording device</p>
                                <p class="mt-2 text-gray-700">Carbon monoxide alarm</p>
                                <p class="mt-2 text-gray-700">Smoke alarm</p>
                            </div>
                        </div>
                        
                        <div class="border-b border-gray-200">
                            <div class="flex justify-between items-center py-4 cursor-pointer">
                                <h4 class="font-medium text-gray-900">Cancellation policy</h4>
                                <i data-feather="chevron-down" class="text-gray-500"></i>
                            </div>
                            <div class="pb-4 hidden">
                                <p class="text-gray-700">Free cancellation for 48 hours</p>
                                <p class="mt-2 text-gray-700">After that, cancel before 7 days before check-in for a partial refund</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Right Column - Desktop Booking Panel -->
            <div class="mt-8 lg:mt-0 lg:col-span-1 desktop-booking-panel">
                <div class="bg-white rounded-xl booking-panel p-6 sticky top-6">
                    <div class="flex justify-between items-baseline">
                        <p class="text-2xl font-bold text-gray-900">KSh <span id="price-per-night">5,500</span> <span class="text-base font-normal text-gray-600">night</span></p>
                        <div class="flex items-center">
                            <i data-feather="star" class="text-yellow-400 fill-current"></i>
                            <span class="ml-1 text-gray-900">4.9</span>
                            <span class="mx-1 text-gray-500">·</span>
                            <a href="#reviews" class="text-gray-600 hover:underline">24 reviews</a>
                        </div>
                    </div>
                    
                    <div class="mt-6">
                        <div class="grid grid-cols-2 gap-2">
                            <div>
                                <label for="check-in-detail" class="block text-xs font-medium text-gray-700 uppercase">Check-in</label>
                                <input type="date" id="check-in-detail" class="mt-1 block w-full border border-gray-300 rounded-md py-2 px-3 text-sm">
                            </div>
                            <div>
                                <label for="check-out-detail" class="block text-xs font-medium text-gray-700 uppercase">Check-out</label>
                                <input type="date" id="check-out-detail" class="mt-1 block w-full border border-gray-300 rounded-md py-2 px-3 text-sm">
                            </div>
                        </div>
                        <p id="date-error" class="mt-2 text-sm text-red-600 hidden">Please select valid dates. Check-out must be after check-in.</p>
                        
                        <div class="mt-4">
                            <label for="guests-detail" class="block text-xs font-medium text-gray-700 uppercase">Guests</label>
                            <select id="guests-detail" class="mt-1 block w-full border border-gray-300 rounded-md py-2 px-3 text-sm">
                                <option>1 guest</option>
                                <option>2 guests</option>
                                <option>3 guests</option>
                                <option>4 guests</option>
                            </select>
                        </div>
                        
                        <button id="check-availability-desktop" class="mt-6 w-full bg-[#FFB700] hover:bg-[#e6a500] text-white font-medium py-3 px-4 rounded-md shadow-sm">
                            Check availability
                        </button>
                        
                        <div class="mt-4 text-center text-sm text-gray-600">
                            You won't be charged yet
                        </div>
                        
                        <div class="mt-6 space-y-4">
                            <div class="flex justify-between">
                                <span class="text-gray-700">KSh <span id="line-nightly-price">5,500</span> x <span id="line-nights">1</span> night(s)</span>
                                <span class="text-gray-900">KSh <span id="line-nightly-total">5,500</span></span>
                            </div>
                            <div class="flex justify-between">
                                <span class="text-gray-700">Service fee</span>
                                <span class="text-gray-900">KSh <span id="service-fee">0</span></span>
                            </div>
                            <div class="border-t border-gray-200 pt-4 flex justify-between font-bold">
                                <span class="text-gray-900">Total</span>
                                <span class="text-gray-900">KSh <span id="grand-total">5,500</span></span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Mobile Booking Trigger -->
    <div class="mobile-booking-trigger fixed bottom-0 left-0 right-0 bg-white border-t border-gray-200 p-4 z-30">
        <div class="flex items-center justify-between">
            <div>
                <p class="text-lg font-bold text-gray-900">KSh 5,500 <span class="text-sm font-normal text-gray-600">night</span></p>
                <div class="flex items-center mt-1">
                    <i data-feather="star" class="text-yellow-400 fill-current h-4 w-4"></i>
                    <span class="ml-1 text-gray-900 text-sm">4.9</span>
                    <span class="mx-1 text-gray-500">·</span>
                    <span class="text-gray-600 text-sm">24 reviews</span>
                </div>
            </div>
            <button id="mobile-booking-trigger" class="bg-[#FFB700] hover:bg-[#e6a500] text-white font-medium py-3 px-6 rounded-lg touch-target mobile-button">
                Check availability
            </button>
        </div>
    </div>

    <!-- Mobile Booking Panel -->
    <div id="mobile-booking-panel" class="mobile-booking-panel">
        <div class="flex items-center justify-between mb-4">
            <h3 class="text-lg font-semibold text-gray-900">Book your stay</h3>
            <button id="mobile-booking-close" class="touch-target p-2 rounded-md text-gray-400 hover:text-gray-500 hover:bg-gray-100">
                <i data-feather="x" class="h-5 w-5"></i>
            </button>
        </div>
        
        <div class="space-y-4">
            <div class="grid grid-cols-2 gap-3">
                <div>
                    <label for="mobile-check-in" class="block text-sm font-medium text-gray-700 mb-1">Check-in</label>
                    <input type="date" id="mobile-check-in" class="w-full border border-gray-300 rounded-md py-3 px-3 text-sm touch-target mobile-input">
                </div>
                <div>
                    <label for="mobile-check-out" class="block text-sm font-medium text-gray-700 mb-1">Check-out</label>
                    <input type="date" id="mobile-check-out" class="w-full border border-gray-300 rounded-md py-3 px-3 text-sm touch-target mobile-input">
                </div>
            </div>
            
            <div>
                <label for="mobile-guests" class="block text-sm font-medium text-gray-700 mb-1">Guests</label>
                <select id="mobile-guests" class="w-full border border-gray-300 rounded-md py-3 px-3 text-sm touch-target mobile-input">
                    <option>1 guest</option>
                    <option>2 guests</option>
                    <option>3 guests</option>
                    <option>4 guests</option>
                </select>
            </div>
            
            <p id="mobile-date-error" class="-mt-2 mb-2 text-sm text-red-600 hidden">Please select valid dates.</p>
            <button id="check-availability-mobile" class="w-full bg-[#FFB700] hover:bg-[#e6a500] text-white font-medium py-4 px-4 rounded-lg touch-target mobile-button">
                Check availability
            </button>
            
            <div class="text-center text-sm text-gray-600">
                You won't be charged yet
            </div>
            
            <div class="space-y-3 pt-4 border-t border-gray-200">
                <div class="flex justify-between">
                    <span class="text-gray-700">KSh <span id="m-line-nightly-price">5,500</span> x <span id="m-line-nights">1</span> night(s)</span>
                    <span class="text-gray-900">KSh <span id="m-line-nightly-total">5,500</span></span>
                </div>
                <div class="flex justify-between">
                    <span class="text-gray-700">Service fee</span>
                    <span class="text-gray-900">KSh <span id="m-service-fee">0</span></span>
                </div>
                <div class="border-t border-gray-200 pt-3 flex justify-between font-bold">
                    <span class="text-gray-900">Total</span>
                    <span class="text-gray-900">KSh <span id="m-grand-total">5,500</span></span>
                </div>
            </div>
        </div>
    </div>
        </div>
    </div>

    <!-- Footer -->
    <footer class="bg-gray-900 text-white mt-16">
        <div class="max-w-7xl mx-auto py-12 px-4 sm:px-6 lg:px-8">
            <div class="grid grid-cols-2 md:grid-cols-4 gap-8">
                <div>
                    <h3 class="text-sm font-semibold text-gray-400 tracking-wider uppercase">Explore</h3>
                    <ul class="mt-4 space-y-4">
                        <li><a href="#" class="text-base text-gray-300 hover:text-white">Destinations</a></li>
                        <li><a href="#" class="text-base text-gray-300 hover:text-white">Experiences</a></li>
                        <li><a href="#" class="text-base text-gray-300 hover:text-white">Travel Guides</a></li>
                        <li><a href="#" class="text-base text-gray-300 hover:text-white">Special Offers</a></li>
                    </ul>
                </div>
                
                <div>
                    <h3 class="text-sm font-semibold text-gray-400 tracking-wider uppercase">Company</h3>
                    <ul class="mt-4 space-y-4">
                        <li><a href="#" class="text-base text-gray-300 hover:text-white">About Us</a></li>
                        <li><a href="#" class="text-base text-gray-300 hover:text-white">Careers</a></li>
                        <li><a href="#" class="text-base text-gray-300 hover:text-white">Press</a></li>
                        <li><a href="#" class="text-base text-gray-300 hover:text-white">Contact</a></li>
                    </ul>
                </div>
                
                <div>
                    <h3 class="text-sm font-semibold text-gray-400 tracking-wider uppercase">Support</h3>
                    <ul class="mt-4 space-y-4">
                        <li><a href="#" class="text-base text-gray-300 hover:text-white">Help Center</a></li>
                        <li><a href="#" class="text-base text-gray-300 hover:text-white">Safety Information</a></li>
                        <li><a href="#" class="text-base text-gray-300 hover:text-white">Cancellation Options</a></li>
                        <li><a href="#" class="text-base text-gray-300 hover:text-white">Report Issue</a></li>
                    </ul>
                </div>
                
                <div>
                    <h3 class="text-sm font-semibold text-gray-400 tracking-wider uppercase">Connect</h3>
                    <div class="mt-4 flex space-x-6">
                        <a href="#" class="text-gray-400 hover:text-white">
                            <i data-feather="facebook" class="h-6 w-6"></i>
                        </a>
                        <a href="#" class="text-gray-400 hover:text-white">
                            <i data-feather="instagram" class="h-6 w-6"></i>
                        </a>
                        <a href="#" class="text-gray-400 hover:text-white">
                            <i data-feather="twitter" class="h-6 w-6"></i>
                        </a>
                        <a href="#" class="text-gray-400 hover:text-white">
                            <i data-feather="youtube" class="h-6 w-6"></i>
                        </a>
                    </div>
                    <div class="mt-6">
                        <p class="text-sm text-gray-400">Download our app</p>
                        <div class="mt-2 flex space-x-4">
                            <a href="#" class="flex items-center">
                                <i data-feather="smartphone" class="mr-2"></i>
                                <span class="text-sm">App Store</span>
                            </a>
                            <a href="#" class="flex items-center">
                                <i data-feather="smartphone" class="mr-2"></i>
                                <span class="text-sm">Google Play</span>
                            </a>
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="mt-12 border-t border-gray-800 pt-8">
                <div class="md:flex md:items-center md:justify-between">
                    <div class="flex space-x-6 md:order-2">
                        <a href="#" class="text-sm text-gray-400 hover:text-white">Privacy</a>
                        <a href="#" class="text-sm text-gray-400 hover:text-white">Terms</a>
                        <a href="#" class="text-sm text-gray-400 hover:text-white">Cookie Policy</a>
                    </div>
                    <p class="mt-8 text-base text-gray-400 md:mt-0 md:order-1">
                        &copy; 2023 ChakaBNB. All rights reserved.
                    </p>
                </div>
            </div>
        </div>
    </footer>

    <!-- Gallery Modal -->
    <div id="gallery-modal" class="fixed inset-0 z-50 bg-black bg-opacity-80 hidden">
        <div class="absolute inset-0 overflow-y-auto">
            <div class="max-w-6xl mx-auto px-4 py-6">
                <div class="flex justify-between items-center mb-4">
                    <h3 class="text-white text-lg font-semibold">All photos</h3>
                    <button id="close-gallery" class="p-2 rounded-md bg-white/10 hover:bg-white/20">
                        <i data-feather="x" class="text-white"></i>
                    </button>
                </div>
                <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3">
                    <img src="http://static.photos/indoor/1200x630/5" class="w-full h-64 object-cover rounded-lg" alt="Photo">
                    <img src="http://static.photos/indoor/640x360/8" class="w-full h-64 object-cover rounded-lg" alt="Photo">
                    <img src="http://static.photos/indoor/640x360/9" class="w-full h-64 object-cover rounded-lg" alt="Photo">
                    <img src="http://static.photos/outdoor/640x360/10" class="w-full h-64 object-cover rounded-lg" alt="Photo">
                    <img src="http://static.photos/indoor/640x360/11" class="w-full h-64 object-cover rounded-lg" alt="Photo">
                    <img src="http://static.photos/outdoor/640x360/15" class="w-full h-64 object-cover rounded-lg" alt="Photo">
                </div>
            </div>
        </div>
    </div>

    <script>
        AOS.init({
            duration: 800,
            easing: 'ease-in-out',
            once: true
        });
        feather.replace();
        
        // Toggle accordion items
        document.querySelectorAll('.border-b.border-gray-200 > div').forEach(item => {
            item.addEventListener('click', function() {
                const content = this.nextElementSibling;
                const icon = this.querySelector('i');
                
                if (content.classList.contains('hidden')) {
                    content.classList.remove('hidden');
                    icon.setAttribute('data-feather', 'chevron-up');
                } else {
                    content.classList.add('hidden');
                    icon.setAttribute('data-feather', 'chevron-down');
                }
                feather.replace();
            });
        });
        
        // Load saved currency preference on page load
        document.addEventListener('DOMContentLoaded', function() {
            const savedCurrency = localStorage.getItem('selectedCurrency') || 'USD';
            if (document.getElementById('currency-selector')) {
                document.getElementById('currency-selector').value = savedCurrency;
                updatePrices(savedCurrency);
            }
            
            // Check if user is logged in and update navigation
            updateUserNavigation();
            
            // Check list property access
            checkListPropertyAccess();
        });
        
        // Function to update navigation based on login status
        function updateUserNavigation() {
            const isLoggedIn = localStorage.getItem('isLoggedIn');
            const userName = localStorage.getItem('userName');
            const userStatus = document.getElementById('user-status');
            const userNameDisplay = document.getElementById('user-name-display');
            const loginLink = document.getElementById('login-link');
            
            if (isLoggedIn && userName) {
                // User is logged in
                userStatus.classList.remove('hidden');
                userNameDisplay.textContent = `Welcome, ${userName}`;
                userNameDisplay.className = 'text-sm text-green-600 font-medium';
                loginLink.textContent = 'Sign out';
                loginLink.href = '#';
                loginLink.onclick = function() {
                    localStorage.removeItem('isLoggedIn');
                    localStorage.removeItem('userName');
                    localStorage.removeItem('userEmail');
                    window.location.reload();
                };
            } else {
                // User is not logged in
                userStatus.classList.add('hidden');
                loginLink.textContent = 'Sign in';
                loginLink.href = 'login.html';
                loginLink.onclick = null;
            }
        }
        
        // Notification functions
        function showNotification(message, type = 'error', showActions = true) {
            const notification = document.getElementById('notification');
            const messageElement = document.getElementById('notification-message');
            const iconElement = document.getElementById('notification-icon');
            const contentElement = document.getElementById('notification-content');
            const actionsElement = document.getElementById('notification-actions');
            
            messageElement.textContent = message;
            
            // Set notification type styling
            if (type === 'success') {
                contentElement.className = 'bg-green-500 text-white px-6 py-4 rounded-lg shadow-lg max-w-sm';
                iconElement.setAttribute('data-feather', 'check-circle');
                if (actionsElement) {
                    actionsElement.innerHTML = `
                        <button onclick="proceedToBooking()" class="bg-white text-green-500 px-3 py-1 rounded text-xs font-medium hover:bg-gray-100 transition-colors">
                            Proceed to Booking
                        </button>
                        <button onclick="closeNotification()" class="text-white hover:text-gray-200 text-xs">
                            Dismiss
                        </button>
                    `;
                }
            } else {
                contentElement.className = 'bg-red-500 text-white px-6 py-4 rounded-lg shadow-lg max-w-sm';
                iconElement.setAttribute('data-feather', 'alert-circle');
                if (actionsElement && showActions) {
                    actionsElement.innerHTML = `
                        <a href="login.html" class="bg-white text-red-500 px-3 py-1 rounded text-xs font-medium hover:bg-gray-100 transition-colors">
                            Login Now
                        </a>
                        <button onclick="closeNotification()" class="text-white hover:text-gray-200 text-xs">
                            Dismiss
                        </button>
                    `;
                } else if (actionsElement) {
                    actionsElement.innerHTML = `
                        <button onclick="closeNotification()" class="text-white hover:text-gray-200 text-xs">
                            Dismiss
                        </button>
                    `;
                }
            }
            
            // Refresh feather icons
            feather.replace();
            
            notification.classList.remove('hidden');
            
            // Trigger animation
            setTimeout(() => {
                notification.classList.add('show');
            }, 10);
            
            // Auto-hide after 8 seconds
            setTimeout(() => {
                closeNotification();
            }, 8000);
        }
        
        function closeNotification() {
            const notification = document.getElementById('notification');
            notification.classList.remove('show');
            
            // Hide after animation completes
            setTimeout(() => {
                notification.classList.add('hidden');
            }, 300);
        }
        
        function proceedToBooking() {
            // Close the notification first
            closeNotification();
            
            // Populate modal with current booking data
            populateBookingModal();
            
            // Show the booking modal
            openBookingModal();
        }
        
        function openBookingModal() {
            const modal = document.getElementById('booking-modal');
            modal.classList.remove('hidden');
            document.body.style.overflow = 'hidden'; // Prevent background scrolling
            
            // Refresh feather icons
            feather.replace();
        }
        
        function closeBookingModal() {
            const modal = document.getElementById('booking-modal');
            modal.classList.add('hidden');
            document.body.style.overflow = 'auto'; // Restore scrolling
            
            // Clear form errors
            clearBookingFormErrors();
        }
        
        function populateBookingModal() {
            // Get current booking data from the booking panels
            const checkInEl = document.getElementById('check-in-detail');
            const checkOutEl = document.getElementById('check-out-detail');
            const guestsEl = document.getElementById('guests-detail');
            const totalEl = document.getElementById('grand-total');
            const nightsEl = document.getElementById('line-nights');
            
            // Populate modal summary
            if (checkInEl) document.getElementById('modal-checkin').textContent = checkInEl.value || '-';
            if (checkOutEl) document.getElementById('modal-checkout').textContent = checkOutEl.value || '-';
            if (guestsEl) document.getElementById('modal-guests').textContent = guestsEl.value || '-';
            if (nightsEl) document.getElementById('modal-nights').textContent = nightsEl.textContent || '-';
            if (totalEl) document.getElementById('modal-total').textContent = totalEl.textContent || '-';
        }
        
        function clearBookingFormErrors() {
            const errorElements = [
                'first-name-error', 'last-name-error', 'email-error', 
                'phone-error', 'payment-error', 'terms-error'
            ];
            
            errorElements.forEach(id => {
                const element = document.getElementById(id);
                if (element) {
                    element.classList.add('hidden');
                    element.textContent = '';
                }
            });
        }
        
        function showBookingFormError(fieldId, message) {
            const errorElement = document.getElementById(fieldId);
            if (errorElement) {
                errorElement.textContent = message;
                errorElement.classList.remove('hidden');
            }
        }
        
        function validateBookingForm() {
            let isValid = true;
            clearBookingFormErrors();
            
            // Validate first name
            const firstName = document.getElementById('guest-first-name').value.trim();
            if (!firstName) {
                showBookingFormError('first-name-error', 'First name is required');
                isValid = false;
            }
            
            // Validate last name
            const lastName = document.getElementById('guest-last-name').value.trim();
            if (!lastName) {
                showBookingFormError('last-name-error', 'Last name is required');
                isValid = false;
            }
            
            // Validate email
            const email = document.getElementById('guest-email').value.trim();
            const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
            if (!email) {
                showBookingFormError('email-error', 'Email address is required');
                isValid = false;
            } else if (!emailRegex.test(email)) {
                showBookingFormError('email-error', 'Please enter a valid email address');
                isValid = false;
            }
            
            // Validate phone
            const phone = document.getElementById('guest-phone').value.trim();
            const phoneRegex = /^(\+254|0)[0-9]{9}$/;
            if (!phone) {
                showBookingFormError('phone-error', 'Phone number is required');
                isValid = false;
            } else if (!phoneRegex.test(phone.replace(/\s/g, ''))) {
                showBookingFormError('phone-error', 'Please enter a valid Kenyan phone number');
                isValid = false;
            }
            
            // Validate payment method
            const paymentMethod = document.querySelector('input[name="paymentMethod"]:checked');
            if (!paymentMethod) {
                showBookingFormError('payment-error', 'Please select a payment method');
                isValid = false;
            }
            
            // Validate terms agreement
            const termsAgreement = document.getElementById('terms-agreement').checked;
            if (!termsAgreement) {
                showBookingFormError('terms-error', 'Please accept the terms and conditions');
                isValid = false;
            }
            
            return isValid;
        }
        
        function submitBooking() {
            if (!validateBookingForm()) {
                return;
            }
            
            // Get form data
            const formData = {
                firstName: document.getElementById('guest-first-name').value.trim(),
                lastName: document.getElementById('guest-last-name').value.trim(),
                email: document.getElementById('guest-email').value.trim(),
                phone: document.getElementById('guest-phone').value.trim(),
                specialRequests: document.getElementById('special-requests').value.trim(),
                paymentMethod: document.querySelector('input[name="paymentMethod"]:checked').value,
                checkIn: document.getElementById('modal-checkin').textContent,
                checkOut: document.getElementById('modal-checkout').textContent,
                guests: document.getElementById('modal-guests').textContent,
                nights: document.getElementById('modal-nights').textContent,
                total: document.getElementById('modal-total').textContent
            };
            
            // Close modal
            closeBookingModal();
            
            // Show success notification
            setTimeout(() => {
                showNotification('Booking submitted successfully! You will receive a confirmation email shortly.', 'success', false);
            }, 300);
            
            // In a real application, you would send this data to your backend
            console.log('Booking submitted:', formData);
            
            // Save booking to localStorage for demo purposes
            const bookings = JSON.parse(localStorage.getItem('chakabnb_bookings') || '[]');
            bookings.push({
                ...formData,
                id: Date.now(),
                status: 'pending',
                timestamp: new Date().toISOString()
            });
            localStorage.setItem('chakabnb_bookings', JSON.stringify(bookings));
        }
        
        // Check login requirement for list property link
        function checkListPropertyAccess() {
            const listPropertyLink = document.getElementById('list-property-link');
            listPropertyLink.addEventListener('click', function(e) {
                const isLoggedIn = localStorage.getItem('isLoggedIn');
                if (!isLoggedIn) {
                    e.preventDefault();
                    showNotification('Please log in to list your property.', 'error', true);
                }
            });
        }
        
        // Add event listeners for booking modal
        function initBookingModal() {
            const modal = document.getElementById('booking-modal');
            const bookNowNav = document.getElementById('book-now-nav');
            
            // Book now button in navigation
            if (bookNowNav) {
                bookNowNav.addEventListener('click', function() {
                    // Check if user is logged in
                    const isLoggedIn = localStorage.getItem('isLoggedIn');
                    if (!isLoggedIn) {
                        showNotification('Please log in to book this property.', 'error', true);
                        return;
                    }
                    
                    // Populate modal with current booking data
                    populateBookingModal();
                    
                    // Show the booking modal
                    openBookingModal();
                });
            }
            
            // Close modal when clicking outside
            modal.addEventListener('click', function(e) {
                if (e.target === modal) {
                    closeBookingModal();
                }
            });
            
            // Close modal with Escape key
            document.addEventListener('keydown', function(e) {
                if (e.key === 'Escape' && !modal.classList.contains('hidden')) {
                    closeBookingModal();
                }
            });
        }
        
        // Currency conversion functionality
        function updatePrices(currency) {
            const exchangeRates = {
                'USD': 1,
                'KES': 130,
                'EUR': 0.85,
                'GBP': 0.73
            };
            
            const rate = exchangeRates[currency] || 1;
            const symbols = {
                'USD': '$',
                'KES': 'KSh ',
                'EUR': '€',
                'GBP': '£'
            };
            
            const symbol = symbols[currency] || '$';
            
            // Update price elements
            document.querySelectorAll('[data-price]').forEach(element => {
                const originalPrice = parseFloat(element.getAttribute('data-price'));
                if (!isNaN(originalPrice)) {
                    const convertedPrice = originalPrice * rate;
                    element.textContent = `${symbol}${convertedPrice.toFixed(2)}`;
                }
            });
        }
        
        // Mobile Navigation Functions
        function initMobileNavigation() {
            const mobileMenuButton = document.getElementById('mobile-menu-button');
            const mobileMenuClose = document.getElementById('mobile-menu-close');
            const mobileMenu = document.getElementById('mobile-menu');
            const mobileOverlay = document.getElementById('mobile-overlay');
            
            function openMobileMenu() {
                mobileMenu.classList.add('open');
                mobileOverlay.classList.add('open');
                document.body.style.overflow = 'hidden';
            }
            
            function closeMobileMenu() {
                mobileMenu.classList.remove('open');
                mobileOverlay.classList.remove('open');
                document.body.style.overflow = '';
            }
            
            if (mobileMenuButton) {
                mobileMenuButton.addEventListener('click', openMobileMenu);
            }
            
            if (mobileMenuClose) {
                mobileMenuClose.addEventListener('click', closeMobileMenu);
            }
            
            if (mobileOverlay) {
                mobileOverlay.addEventListener('click', closeMobileMenu);
            }
        }
        
        // Mobile Gallery Functions
        function changeMobileImage(src) {
            const mainImage = document.getElementById('mobile-main-image');
            if (mainImage) {
                mainImage.src = src;
            }
            
            // Update active thumbnail
            document.querySelectorAll('.mobile-gallery-thumbs img').forEach(img => {
                img.classList.remove('border-[#003B95]');
                img.classList.add('border-transparent');
            });
            event.target.classList.add('border-[#003B95]');
            event.target.classList.remove('border-transparent');
        }
        
        // Mobile Booking Panel Functions
        function initMobileBooking() {
            const bookingTrigger = document.getElementById('mobile-booking-trigger');
            const bookingPanel = document.getElementById('mobile-booking-panel');
            const bookingClose = document.getElementById('mobile-booking-close');
            
            function openBookingPanel() {
                bookingPanel.classList.add('open');
                document.body.style.overflow = 'hidden';
            }
            
            function closeBookingPanel() {
                bookingPanel.classList.remove('open');
                document.body.style.overflow = '';
            }
            
            if (bookingTrigger) {
                bookingTrigger.addEventListener('click', openBookingPanel);
            }
            
            if (bookingClose) {
                bookingClose.addEventListener('click', closeBookingPanel);
            }
        }
        
        // Currency selector event listener
        if (document.getElementById('currency-selector')) {
            document.getElementById('currency-selector').addEventListener('change', function() {
                const selectedCurrency = this.value;
                localStorage.setItem('selectedCurrency', selectedCurrency);
                updatePrices(selectedCurrency);
            });
        }
        
        // Initialize mobile functionality
        document.addEventListener('DOMContentLoaded', function() {
            initMobileNavigation();
            initMobileBooking();
            initBookingCalculations();
            initGalleryModal();
            initBookingModal();
        });
    </script>
    <script>
        // Booking calculations and validation
        function initBookingCalculations() {
            const NIGHTLY_PRICE = 5500;
            const SERVICE_FEE_RATE = 0.14;

            const pricePerNightEl = document.getElementById('price-per-night');
            const checkInEl = document.getElementById('check-in-detail');
            const checkOutEl = document.getElementById('check-out-detail');
            const dateErrorEl = document.getElementById('date-error');
            const lineNightlyPriceEl = document.getElementById('line-nightly-price');
            const lineNightsEl = document.getElementById('line-nights');
            const lineNightlyTotalEl = document.getElementById('line-nightly-total');
            const serviceFeeEl = document.getElementById('service-fee');
            const grandTotalEl = document.getElementById('grand-total');
            const checkAvailDesktop = document.getElementById('check-availability-desktop');

            const mCheckInEl = document.getElementById('mobile-check-in');
            const mCheckOutEl = document.getElementById('mobile-check-out');
            const mDateErrorEl = document.getElementById('mobile-date-error');
            const mLineNightlyPriceEl = document.getElementById('m-line-nightly-price');
            const mLineNightsEl = document.getElementById('m-line-nights');
            const mLineNightlyTotalEl = document.getElementById('m-line-nightly-total');
            const mServiceFeeEl = document.getElementById('m-service-fee');
            const mGrandTotalEl = document.getElementById('m-grand-total');
            const checkAvailMobile = document.getElementById('check-availability-mobile');

            if (pricePerNightEl) pricePerNightEl.textContent = formatNumber(NIGHTLY_PRICE);
            if (lineNightlyPriceEl) lineNightlyPriceEl.textContent = formatNumber(NIGHTLY_PRICE);
            if (mLineNightlyPriceEl) mLineNightlyPriceEl.textContent = formatNumber(NIGHTLY_PRICE);

            function getNights(ci, co) {
                const start = new Date(ci);
                const end = new Date(co);
                if (isNaN(start.getTime()) || isNaN(end.getTime())) return 0;
                const diffMs = end - start;
                return Math.max(0, Math.ceil(diffMs / (1000 * 60 * 60 * 24)));
            }

            function updateDesktopTotals() {
                const nights = getNights(checkInEl && checkInEl.value, checkOutEl && checkOutEl.value);
                const valid = nights > 0;
                if (dateErrorEl) dateErrorEl.classList.toggle('hidden', valid);
                if (lineNightsEl) lineNightsEl.textContent = nights || 1;
                const nightlyTotal = NIGHTLY_PRICE * (nights || 1);
                const serviceFee = Math.round(nightlyTotal * SERVICE_FEE_RATE);
                if (lineNightlyTotalEl) lineNightlyTotalEl.textContent = formatNumber(nightlyTotal);
                if (serviceFeeEl) serviceFeeEl.textContent = formatNumber(serviceFee);
                if (grandTotalEl) grandTotalEl.textContent = formatNumber(nightlyTotal + serviceFee);
                return valid;
            }

            function updateMobileTotals() {
                const nights = getNights(mCheckInEl && mCheckInEl.value, mCheckOutEl && mCheckOutEl.value);
                const valid = nights > 0;
                if (mDateErrorEl) mDateErrorEl.classList.toggle('hidden', valid);
                if (mLineNightsEl) mLineNightsEl.textContent = nights || 1;
                const nightlyTotal = NIGHTLY_PRICE * (nights || 1);
                const serviceFee = Math.round(nightlyTotal * SERVICE_FEE_RATE);
                if (mLineNightlyTotalEl) mLineNightlyTotalEl.textContent = formatNumber(nightlyTotal);
                if (mServiceFeeEl) mServiceFeeEl.textContent = formatNumber(serviceFee);
                if (mGrandTotalEl) mGrandTotalEl.textContent = formatNumber(nightlyTotal + serviceFee);
                return valid;
            }

            if (checkInEl) checkInEl.addEventListener('change', updateDesktopTotals);
            if (checkOutEl) checkOutEl.addEventListener('change', updateDesktopTotals);
            if (mCheckInEl) mCheckInEl.addEventListener('change', updateMobileTotals);
            if (mCheckOutEl) mCheckOutEl.addEventListener('change', updateMobileTotals);

            if (checkAvailDesktop) {
                checkAvailDesktop.addEventListener('click', function() {
                    if (!updateDesktopTotals()) return;
                    showNotification('Dates available! Proceed to booking.', 'success');
                });
            }
            if (checkAvailMobile) {
                checkAvailMobile.addEventListener('click', function() {
                    if (!updateMobileTotals()) return;
                    showNotification('Dates available! Proceed to booking.', 'success');
                });
            }

            updateDesktopTotals();
            updateMobileTotals();
        }

        function formatNumber(num) {
            return (num || 0).toLocaleString('en-KE');
        }

        // Gallery modal
        function initGalleryModal() {
            const openDesktop = document.getElementById('open-gallery-desktop');
            const openMobile = document.getElementById('open-gallery-mobile');
            const modal = document.getElementById('gallery-modal');
            const closeBtn = document.getElementById('close-gallery');
            function open() {
                if (!modal) return;
                modal.classList.remove('hidden');
                document.body.style.overflow = 'hidden';
            }
            function close() {
                if (!modal) return;
                modal.classList.add('hidden');
                document.body.style.overflow = '';
            }
            if (openDesktop) openDesktop.addEventListener('click', open);
            if (openMobile) openMobile.addEventListener('click', open);
            if (closeBtn) closeBtn.addEventListener('click', close);
            if (modal) {
                modal.addEventListener('click', (e) => {
                    if (e.target === modal) close();
                });
            }
        }
    </script>
</body>
</html>
